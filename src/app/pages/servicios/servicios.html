<!-- Lista de Servicios -->
<div *ngIf="!mostrarFormulario()" class="p-8 max-w-7xl mx-auto">
  <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">
    Servicios
  </h2>

  <div class="flex justify-between items-center mb-6">
    <button
      class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700"
      (click)="
        mostrarFormulario.set(true); modoEdicion.set(false); form.reset()
      "
    >
      + Agregar servicio
    </button>

    <input
      type="text"
      [(ngModel)]="busqueda"
      placeholder="Buscar servicio..."
      class="p-2 border rounded w-64 shadow-sm"
    />
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      *ngFor="let servicio of serviciosFiltrados()"
      class="bg-white border rounded-lg shadow p-5 hover:shadow-md transition"
    >
      <h3 class="text-xl font-bold text-indigo-700 mb-2">
        {{ servicio.nombre }}
      </h3>

      <p class="text-gray-700 text-sm mb-3">
        {{ servicio.descripcion }}
      </p>

      <div class="flex justify-between text-sm">
        <button
          class="text-blue-600 hover:underline"
          (click)="editar(servicio)"
        >
          Editar
        </button>
        <button
          class="text-red-600 hover:underline"
          (click)="eliminar(servicio.id!)"
        >
          Eliminar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Formulario -->
<div *ngIf="mostrarFormulario()" class="p-8 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-6 text-center">
    {{ modoEdicion() ? 'Editar' : 'Agregar' }} servicio
  </h2>

  <form
    [formGroup]="form"
    (ngSubmit)="enviar()"
    class="grid grid-cols-1 gap-6 bg-white p-6 rounded shadow"
  >
    <!-- Nombre -->
    <div class="flex flex-col">
      <label for="nombre" class="mb-1 font-medium text-gray-700"
        >Nombre del servicio</label
      >
      <input
        id="nombre"
        type="text"
        formControlName="nombre"
        placeholder="Ej. Corte de cabello"
        class="w-full p-2 border rounded"
      />
    </div>

    <!-- Descripción -->
    <div class="flex flex-col">
      <label for="descripcion" class="mb-1 font-medium text-gray-700"
        >Descripción</label
      >
      <textarea
        id="descripcion"
        formControlName="descripcion"
        rows="4"
        placeholder="Descripción detallada del servicio..."
        class="w-full p-2 border rounded"
      ></textarea>
    </div>

    <!-- Botones -->
    <div class="flex gap-4 mt-4">
      <button
        type="submit"
        class="bg-indigo-700 text-white px-4 py-2 rounded hover:bg-indigo-800"
      >
        {{ modoEdicion() ? 'Guardar cambios' : 'Agregar' }}
      </button>
      <button
        type="button"
        class="text-gray-500 underline"
        (click)="cancelar()"
      >
        Cancelar
      </button>
    </div>
  </form>
</div>
